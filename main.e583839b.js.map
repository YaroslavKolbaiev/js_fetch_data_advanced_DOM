{"version":3,"sources":["scripts/main.js"],"names":["link","request","url","fetch","then","response","ok","setTimeout","Promise","reject","Error","status","json","getPhones","getPhonesDetails","id","body","document","querySelector","getFirstReceivedDetails","data","phone","insertAdjacentHTML","name","getAllSuccessfulDetails","list","map","phoneDetail","toUpperCase"],"mappings":";AAAA,aAEA,IAAMA,EACF,mEAEEC,EAAU,SAACC,GACRC,OAAAA,MAAMD,GACVE,KAAK,SAACC,GASEA,OARFA,EAASC,IACZC,WAAW,WACFC,OAAAA,QAAQC,OACb,IAAIC,MAASL,GAAAA,OAAAA,EAASM,OADjB,mBAGN,KAGEN,EAASO,UAIhBC,EAAY,SAACX,GAAQD,OAAAA,EAAWC,GAAAA,OAAAA,EAApB,WAEZY,EAAmB,SAACZ,EAAKa,GAAOd,OAAAA,EAAWC,GAAAA,OAAAA,EAAOa,KAAAA,OAAAA,EAA/B,WAEnBC,EAAOC,SAASC,cAAc,QAE9BC,EAA0B,WAC9BN,EAAUb,GAAMI,KAAK,SAAAgB,GACnBN,EAAiBd,EAAMoB,EAAK,GAAGL,IAAIX,KAAK,SAAAiB,GACtCL,EAAKM,mBAAmB,YAIUD,0HAAAA,OAAAA,EAAMN,GAAYM,WAAAA,OAAAA,EAAME,KAJ1D,gDAYAC,EAA0B,WAC9BX,EAAUb,GAAMI,KAAK,SAAAgB,GACnBJ,EAAKM,mBAAmB,YAAxB,4GAQMG,IAAAA,EAAOT,EAAKE,cAAc,sBAEhCE,EAAKM,IAAI,SAAAL,GACPP,EAAiBd,EAAMqB,EAAMN,IAAIX,KAAK,SAAAuB,GACpCF,EAAKH,mBAAmB,YAEdK,2CAAAA,OAAAA,EAAYZ,GAAGa,cACbD,wBAAAA,OAAAA,EAAYJ,KAHxB,6BAWRJ,IACAK","file":"main.e583839b.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst link\n  = 'https://mate-academy.github.io/phone-catalogue-static/api/phones';\n\nconst request = (url) => {\n  return fetch(url)\n    .then((response) => {\n      if (!response.ok) {\n        setTimeout(() => {\n          return Promise.reject(\n            new Error(`${response.status} - not found`)\n          );\n        }, 5000);\n      }\n\n      return response.json();\n    });\n};\n\nconst getPhones = (url) => request(`${url}.json`);\n\nconst getPhonesDetails = (url, id) => request(`${url}/${id}.json`);\n\nconst body = document.querySelector('body');\n\nconst getFirstReceivedDetails = () => {\n  getPhones(link).then(data => {\n    getPhonesDetails(link, data[0].id).then(phone => {\n      body.insertAdjacentHTML('beforeend',\n        `<div class=\"first-received\">\n          <h3>First Received</h3>\n          <ul>\n            <li class=\"li-header\">Id: ${phone.id} Name: ${phone.name}</li>\n          </ul>\n        </div>`\n      );\n    });\n  });\n};\n\nconst getAllSuccessfulDetails = () => {\n  getPhones(link).then(data => {\n    body.insertAdjacentHTML('beforeend',\n      `<div class=\"all-successful\">\n        <h3>All Successful</h3>\n        <ul>\n        </ul>\n      </div>`\n    );\n\n    const list = body.querySelector('.all-successful>ul');\n\n    data.map(phone => {\n      getPhonesDetails(link, phone.id).then(phoneDetail => {\n        list.insertAdjacentHTML('beforeend',\n          `<li class=\"li-header\">\n            Id: ${phoneDetail.id.toUpperCase()}\n            Name: ${phoneDetail.name}\n          </li>`\n        );\n      });\n    });\n  });\n};\n\ngetFirstReceivedDetails();\ngetAllSuccessfulDetails();\n"]}